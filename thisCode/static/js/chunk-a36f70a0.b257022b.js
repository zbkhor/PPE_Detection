(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a36f70a0"],{"0f72":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("equipment-selection")],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[n("v-snackbar",{attrs:{timeout:4e3,color:t.snackbarColor,top:"",right:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[n("span",{staticClass:"pr-4"},[t._v(t._s(t.message))]),n("v-btn",{staticClass:"ma-0",attrs:{text:""},on:{click:t.closeButton}},[t._v("Close")])],1),n("div",{staticClass:"d-flex align-center"},[n("v-spacer"),n("v-btn",{staticClass:"white--text",attrs:{disabled:t.disabled,color:"blue"},on:{click:function(e){return t.saveSelection()}}},[n("v-icon",{staticClass:"pr-2"},[t._v("save_alt")]),n("span",[t._v("SAVE")])],1)],1),n("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"100%"}},[n("v-card-title",[n("span",{staticClass:"mx-auto"},[t._v("Select the PPEs to detect")])]),n("v-card-subtitle",{staticClass:"d-flex"},[n("span",{staticClass:"mx-auto"},[t._v(" You can select/deselect a PPE by clicking their respective buttons. ")])]),n("v-list",{staticClass:"d-flex mx-auto ppe-btn-list justify-center"},t._l(t.buttons,(function(e,a){return n("v-list-item",{key:a},[n("v-btn",{staticClass:"mx-auto",class:{selected:e.selected},on:{click:function(n){return t.select(e)}}},[n("v-icon",{staticClass:"equipmentIcon",attrs:{large:""}},[t._v(" "+t._s(e.equipmentIcon)+" ")]),n("div",{staticClass:"btn-text"},[t._v(" "+t._s(e.equipmentName)+" ")])],1)],1)})),1)],1)],1)},i=[],o=(n("4160"),n("c975"),n("fb6a"),n("a434"),n("159b"),n("bc3a")),r=n.n(o),l={name:"EquipmentSelection",data:function(){return{message:"",originalSelection:[],currentSelection:[],buttons:[],snackbar:!1,snackbarColor:"info"}},methods:{closeButton:function(){this.snackbar=!1},select:function(t){if(this.errorMsg="",t.selected){var e=!0;if(this.buttons.forEach((function(n){t.id!==n.id&&n.selected&&(e=!1)})),e)this.snackbarColor="error",this.message="At least one PPE must be selected!",this.snackbar=!0;else{t.selected=!1;var n=this.currentSelection.indexOf(t.id);this.currentSelection.splice(n,1)}}else t.selected=!0,this.currentSelection.push(t.id);console.log(this.currentSelection)},saveSelection:function(){for(var t=this,e=new FormData,n=0;n<this.currentSelection.length;n++)e.append("selectionEquipment",this.currentSelection[n]);r()({method:"post",url:"/api/ppeselections/",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.originalSelection=t.currentSelection.slice(),console.log(e),t.message="Success! Your option(s) have been saved.",t.snackbar=!0,t.snackbarColor="success"})).catch((function(e){console.log(e.response.data.Error),t.message="Failed to save your selection.",t.snackbar=!0,t.snackbarColor="error"}))}},computed:{disabled:function(){var t=this,e=!0;if(this.originalSelection.length!=this.currentSelection.length)e=!1;else{var n=!1;this.currentSelection.forEach((function(a){t.originalSelection.forEach((function(t){a===t&&(n=!0)})),n||(e=!1),n=!1}))}return e}},mounted:function(){var t=this;r.a.get("/api/equipments").then((function(e){e.data.Success.forEach((function(t){t.selected=!1})),t.buttons=e.data.Success,r.a.get("/api/ppeselections/getselection").then((function(e){t.originalSelection=e.data.Success.selectionEquipment,t.currentSelection=t.originalSelection.slice(),t.originalSelection.forEach((function(e){t.buttons.forEach((function(t){e===t.id&&(t.selected=!0)}))}))}))}))}},u=l,d=(n("fe46"),n("c79d"),n("2877")),f=n("6544"),p=n.n(f),b=n("8336"),h=n("b0af"),v=n("99d9"),m=n("a523"),S=n("132d"),g=n("8860"),C=n("da13"),k=n("2db4"),E=n("2fa4"),_=Object(d["a"])(u,c,i,!1,null,"764e53c8",null),x=_.exports;p()(_,{VBtn:b["a"],VCard:h["a"],VCardSubtitle:v["b"],VCardTitle:v["d"],VContainer:m["a"],VIcon:S["a"],VList:g["a"],VListItem:C["a"],VSnackbar:k["a"],VSpacer:E["a"]});var V={name:"PPESelection",components:{EquipmentSelection:x}},q=V,w=Object(d["a"])(q,a,s,!1,null,"5cad6d88",null);e["default"]=w.exports;p()(w,{VContainer:m["a"]})},"1e64":function(t,e,n){},"1fae":function(t,e,n){},c79d:function(t,e,n){"use strict";var a=n("1e64"),s=n.n(a);s.a},fe46:function(t,e,n){"use strict";var a=n("1fae"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-a36f70a0.b257022b.js.map